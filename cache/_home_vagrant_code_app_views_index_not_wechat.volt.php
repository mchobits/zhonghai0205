<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-type" content="text/html">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Pragma" content="no-cache">
    <meta name="format-detection" content="telephone=no, email=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script src="https://cdn.vote.commerce.ys69.cn/js/jquery.min.js"></script>
    <script src="https://cdn.vote.commerce.ys69.cn/js/common.js"></script>
    <link rel="stylesheet" href="https://cdn.vote.commerce.ys69.cn/css/animate.min.css">
    <title>"老有所依 天使在身边"</title>
</head>
<script type="text/javascript">
    var CDNBASEURL = 'https://cdn.vote.commerce.ys69.cn/';
    var BASEURL = 'https://vote.commerce.ys69.cn/';
</script>
<body id='main_body'>
<div class="logo">
    <img src="https://cdn.vote.commerce.ys69.cn/main_images/mz_logo.png">
</div>
<div class="container">
    <div class="header">
        <div class="huodong">
            <img src="#">
        </div>
        <div class="laoyou">
            <img src="#">
        </div>
    </div>
    <div class="middle_button">

        <img class="middle_qrcode" src="http://vote.commerce.ys69.cn/img/qr1.png">

    </div>
    <div class="footer">
        <img src="#">
    </div>

</div>
<div id="spinner" class="spinner">
    <div class="double-bounce1"></div>
    <div class="double-bounce2"></div>
</div>
</body>
<style type="text/css">
    .spinner {
        width: 60px;
        height: 60px;
        position: relative;
        /*margin: 100px auto;*/
        margin: 70% auto;
        -webkit-animation-duration: 1s;
        -moz-animation-duration: 1s;
        animation-duration: 1s;;
        -webkit-animation-delay: 1s;
        -moz-animation-delay: 1s;
        animation-delay: 1s;
    }

    .double-bounce1,
    .double-bounce2 {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background-color: #D6EFF8;
        opacity: 0.6;
        position: absolute;
        top: 0;
        left: 0;
        -webkit-animation: bounce 2.0s infinite ease-in-out;
        -moz-animation: bounce 2.0s infinite ease-in-out;
        animation: bounce 2.0s infinite ease-in-out;
    }

    .double-bounce2 {
        -webkit-animation-delay: -1.0s;
        -moz-animation-delay: -1.0s;
        animation-delay: -1.0s;
    }

    @-webkit-keyframes bounce {
        0%,
        100% {
            -webkit-transform: scale(0.0)
        }
        50% {
            -webkit-transform: scale(1.0)
        }
    }
    @-moz-keyframes bounce {
        0%,
        100% {
            -moz-transform: scale(0.0)
        }
        50% {
            -moz-transform: scale(1.0)
        }
    }


    @keyframes bounce {
        0%,
        100% {
            transform: scale(0.0);
            -webkit-transform: scale(0.0);
        }
        50% {
            transform: scale(1.0);
            -webkit-transform: scale(1.0);
        }
    }

    @-webkit-keyframes rotate {
        100% {
            -webkit-transform: rotate(360deg);
        }
    }
    @-moz-keyframes rotate {
        100% {
            -moz-transform: rotate(360deg);
        }
    }

    @keyframes rotate {
        100% {
            transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
        }
    }

    @-webkit-keyframes bounce {
        0%,
        100% {
            -webkit-transform: scale(0.0);
        }
        50% {
            -webkit-transform: scale(1.0);
        }
    }

    @-moz-keyframes bounce {
        0%,
        100% {
            -moz-transform: scale(0.0);
        }
        50% {
            -moz-transform: scale(1.0);
        }
    }

    @keyframes bounce {
        0%,
        100% {
            transform: scale(0.0);
            -webkit-transform: scale(0.0);
        }
        50% {
            transform: scale(1.0);
            -webkit-transform: scale(1.0);
        }
    }
    #main_body {
        margin: 0px;
        width: 100%;
        height: 100%;
        background: url('#');
        filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale')";
        -moz-background-size:100% 100%;
        background-size:100% 100%;
        background-attachment: fixed;
    }

    #main_body:before{
        position: fixed;
        z-index: -1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        /*background: url(path/to/image) center 0 no-repeat;*/
        background-size: cover;
    }
    .container {
        display: none;
        animation-duration: 0s;
        animation-delay: 0s;
        -o-animation-duration: 0s;
        -o-animation-delay: 0s;
        -moz-animation-duration: 0s;
        -moz-animation-delay: 0s;
        -webkit-animation-duration: 0s;
        -webkit-animation-delay: 0s;
    }
    .header {
        width: 100%;
        height: 40%;
        background: url('#') no-repeat;
        background-size: 100%;
        display: none;
        opacity: 0;
        animation-duration: 1.2s;
        animation-delay: 0.6s;
        -webkit-animation-duration: 1.2s;
        -webkit-animation-delay: 0.6s;
        -o-animation-duration: 1.2s;
        -o-animation-delay: 0.6s;
        -moz-animation-duration: 1.2s;
        -moz-animation-delay: 0.6s;
    }
    .logo {
        position: absolute;
        left: 20%;
        /*left: 1.3rem;*/
        top: 30%;
        /*top: 0.8rem;*/
        /*width: 30%;*/
        width: 60%;
        z-index: 2;
    }
    .logo img {
        width: 100%;
    }
    .huodong {
        text-align:center;
        padding-top: 13%;
        margin: 0 auto;
    }
    .laoyou {
        text-align:center;
        margin: 0 auto;
        padding-bottom: 5%;
    }
    .huodong img {
        text-align:center;
        width: 55%;
    }
    .laoyou img {
        text-align:center;
        width: 65%;
    }
    .middle_button {
        margin: 0 auto;
        text-align: center;
        width: 72%;
        height: 40%;
        /*padding-top: 0.8rem;*/
    }
    .middle_button .middle_qrcode {
        padding-top: 1.8rem;
        display: none;
        opacity: 0;
        animation-duration: 0.4s;
        animation-delay: 1.4s;
        -webkit-animation-duration: 0.4s;
        -webkit-animation-delay: 1.4s;
        -o-animation-duration: 0.4s;
        -o-animation-delay: 1.4s;
        -moz-animation-duration: 0.4s;
        -moz-animation-delay: 1.4s;
    }

    .middle_button .best_huliyuan {
        padding-top: 1.8rem;
        display: none;
        opacity: 0;
        animation-duration: 0.4s;
        animation-delay: 1.4s;
        -webkit-animation-duration: 0.4s;
        -webkit-animation-delay: 1.4s;
        -o-animation-duration: 0.4s;
        -o-animation-delay: 1.4s;
        -moz-animation-duration: 0.4s;
        -moz-animation-delay: 1.4s;
    }
    .middle_button .best_yuanzhang {
        padding-top: 1.8rem;
        display: none;
        opacity: 0;
        animation-duration: 0.4s;
        animation-delay: 1.8s;
        -webkit-animation-duration: 0.4s;
        -webkit-animation-delay: 1.8s;
        -o-animation-duration: 0.4s;
        -o-animation-delay: 1.8s;
        -moz-animation-duration: 0.4s;
        -moz-animation-delay: 1.8s;
    }
    .middle_button .best_jigou {
        padding-top: 1.8rem;
        display: none;
        opacity: 0;
        animation-duration: 0.4s;
        animation-delay: 2.2s;
        -moz-animation-duration: 0.4s;
        -moz-animation-delay: 2.2s;
        -o-animation-duration: 0.4s;
        -o-animation-delay: 2.2s;
        -webkit-animation-duration: 0.4s;
        -webkit-animation-delay: 2.2s;
    }
    .middle_button .best_huliyuan img {
        text-align: center;
        width: 100%;
    }
    .middle_button .best_yuanzhang img {
        text-align: center;
        width: 100%;
    }
    .middle_button .best_jigou img {
        text-align: center;
        width: 100%;
    }
    .linker img {

        -webkit-animation-duration: 0.5s;

    }
    .footer {
        width: 85%;
        text-align: left;
        margin: 0 auto;
        padding-top: 2rem;
        font-size: 0.4rem;
        color: #24647d;
        display: none;
        animation-duration: 1s;
        animation-delay: 2.4s;
        -webkit-animation-duration: 1s;
        -webkit-animation-delay: 2.4s;
        -o-animation-duration: 1s;
        -o-animation-delay: 2.4s;
        -moz-animation-duration: 1s;
        -moz-animation-delay: 2.4s;
    }
    .footer img {
        width: 100%;
    }
    @media only screen and (min-width: 320px) {
        .middle_button .best_huliyuan {
            padding-top: 1rem;
        }
        .middle_button .best_yuanzhang {
            padding-top: 1rem;
        }
        .middle_button .best_jigou {
            padding-top: 1rem;
        }
    }

    @media only screen and (min-width: 375px) {
        .middle_button .best_huliyuan {
            padding-top: 1.8rem;
        }
        .middle_button .best_yuanzhang {
            padding-top: 1.8rem;
        }
        .middle_button .best_jigou {
            padding-top: 1.8rem;
        }
    }

    @media only screen and (min-width: 768px) {
        .middle_button .best_huliyuan {
            padding-top: 1.6rem;
        }
        .middle_button .best_yuanzhang {
            padding-top: 1.6rem;
        }
        .middle_button .best_jigou {
            padding-top: 1.6rem;
        }
    }
</style>
<script type="text/javascript">
    function getViewportSize () {
        return {
            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
        };
    }
    var is_loaded = false;
    var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';
    var fadeInDown = 'animated fadeInDown';
    var fadeInUp = 'animated fadeInUp';
    var fadeIn = 'animated fadeIn';
    var fadeOut = 'animated fadeOut';
    $(window).load(function() {
        alert('本次投票仅限手机微信用户，请打开手机微信，扫一扫页面内的二维码进入投票');
        $('#spinner').addClass(fadeOut).one(animationEnd, function() {
            if(is_loaded === false) {
                is_loaded = true;
                $(this).removeClass(fadeOut).hide();
                $('.logo').animate({top: '0.8rem', left: '1.3rem', width: '30%'}, 500, function() {
                    $('.container').show();
                    $('.header').addClass(fadeInUp).show();
                    $('.middle_qrcode').addClass(fadeInUp).show();

                    $('div.footer').addClass(fadeIn).show();
                })
            }
        });
    });

    $(window).load(function () {
        setTimeout(function () {
            if (is_loaded === false) {
                $('.logo').animate({top: '0.8rem', left: '1.3rem', width: '30%'}, 500, function() {
                    $('div.container').show();
                    $('div.header').animate({opacity: 1}, 500).show();
                    $('.middle_qrcode').animate({opacity: 1}, 800).show();
                    $('div.footer').fadeIn().show();

                });
            }
        },3000);
    });

    function cdnResize(img, width){
        return CDNBASEURL + img + '?x-oss-process=image/resize,w_' + width;
    }

    $(function () {

        var screen_width = getViewportSize().width;
        var screen_height = getViewportSize().height;
        if(getViewportSize().width !== 0) {
            $('#main_body').css('background', 'url("'+ cdnResize('main_images/bg3.png', screen_width) + '") no-repeat fixed')
                .css('background-size', 'cover')
                .css('background-attachment','fixed')
                .css('height', screen_height);
            $('.header').css('background', 'rgba(0, 0, 0, 0) url("'+ cdnResize('main_images/head_bg.png', screen_width) +'") no-repeat scroll 0% 0% / 100% padding-box border-box');
            $('.huodong img').attr('src', cdnResize('main_images/huodong.png', screen_width));
            $('.laoyou img').attr('src', cdnResize('main_images/laoyou.png', screen_width));
            $('.footer img').attr('src', CDN('main_images/footer_text.png'));
        } else {
            $('#main_body').css('background', 'rgba(0, 0, 0, 0) url("'+ CDNBASEURL +'main_images/bg2.png") repeat fixed 0% 0% / 100% 100% padding-box border-box').css('height', screen_height).css('display', 'block');
            $('.header').css('background', 'rgba(0, 0, 0, 0) url("'+ CDNBASEURL +'main_images/head_bg.png") no-repeat scroll 0% 0% / 100% padding-box border-box');
            $('.huodong img').attr('src', CDN('main_images/huodong.png'));
            $('.laoyou img').attr('src', CDN('main_images/laoyou.png'));
            $('.footer img').attr('src', CDN('main_images/footer_text.png'));
        }
        $('.linker img').on('click', function() {
            $(this).addClass('animated flash').one(animationEnd, function() {
                $(this).removeClass('animated flash');
                window.location.href = $(this).parent().attr('link-to');
            });
        });

    });
</script>
<script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>

    wx.config(<?= $wxconfig ?>);
    wx.ready(function(){
        wx.checkJsApi({
            jsApiList: [
                'getLocation',
                'onMenuShareTimeline',
                'onMenuShareAppMessage'
            ]
        });

        wx.onMenuShareTimeline({
            title: '“福彩杯”2017广东“老有所依 天使在身边”大型公益活动投票入口',
            link: "https://vote.commerce.ys69.cn/",
            imgUrl: 'https://vote.commerce.ys69.cn/img/link_img.jpg',
            trigger: function (res) {

            },
            success: function (res) {

            },
            cancel: function (res) {

            },
            fail: function (res) {

            }
        });

        wx.onMenuShareAppMessage({
            title: '“福彩杯”2017广东“老有所依 天使在身边”活动投票',
            desc: '投票开始时间：2017-09-14 投票截止时间：2017-09-20',
            link: 'https://vote.commerce.ys69.cn/',
            imgUrl: 'https://vote.commerce.ys69.cn/img/link_img.jpg',
            type: 'link',
            dataUrl: '',
            success: function () {

            },
            cancel: function () {

            }
        });
        wx.hideMenuItems({
            menuList: ['menuItem:share:qq', 'menuItem:share:weiboApp','menuItem:share:facebook', 'menuItem:share:QZone', 'menuItem:editTag', 'menuItem:delete', 'menuItem:copyUrl', 'menuItem:originPage', 'menuItem:readMode', 'menuItem:openWithQQBrowser', 'menuItem:openWithSafari', 'menuItem:share:email']
        });
    });
</script>
</html>